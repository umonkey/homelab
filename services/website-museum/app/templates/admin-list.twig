{% extends "admin.twig" %}

{% block page_title %}СКМ — админка{% endblock %}

{% block content %}
    {% include "parts/breadcrumbs.twig" %}

    <div class="page-header">
        <h1>Управление сайтом музея</h1>
        <p class="lead">Здесь видны все последние документы.  Вы можете их менять или добавлять новые.</p>
    </div>

    <div class="doclists">
        {% for type in documents %}
            <div class="doclist">
                <h2>{{ type.title }}</h2>
                {% if type.docs %}
                    <div class="links"><a href="/admin/{{ type.type }}">полный список</a>{% if type.public_list %} &middot; <a href="{{ type.public_list }}" target="_blank" class="ext">на сайте</a>{% endif %} &middot; <a href="/admin/{{ type.type }}/add">добавить</a></div>
                    <ul>
                        {% for doc in type.docs %}
                            <li>
                                <a href="/admin/{{ type.type }}/{{ doc.id }}/edit">{{ doc.title }}</a>
                            </li>
                        {% endfor %}
                    </ul>
                {% elseif type.error %}
                    <p>{{ type.error }}</p>
                {% else %}
                    <div class="links"><a href="/admin/{{ type.type }}">полный список</a>{% if type.public_list %} &middot; <a href="{{ type.public_list }}" target="_blank" class="ext">на сайте</a>{% endif %} &middot; <a href="/admin/{{ type.type }}/add">добавить</a></div>
                    <p>Нет документов этого типа.</p>
                {% endif %}
            </div>
        {% endfor %}
    </div>
{% endblock %}
